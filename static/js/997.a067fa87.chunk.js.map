{"version":3,"file":"static/js/997.a067fa87.chunk.js","mappings":"iOAWA,MA2HA,EA3HiBA,KAChB,MAAM,MAAEC,EAAK,UAAEC,EAAS,kBAAEC,IAAsBC,EAAAA,EAAAA,KAI1CC,GADWC,EAAAA,EAAAA,MACQC,SAASC,SAAS,UAErC,YAAEC,EAAW,WAAEC,IAAeC,EAAAA,EAAAA,KAC9BC,EAAQP,EACXJ,EAAMY,MAAMC,GAASA,EAAKC,KAAON,IACjCP,EAAUW,MAAMC,GAASA,EAAKC,KAAOL,KAEjCM,EAAaC,IAAkBC,EAAAA,EAAAA,UAASC,EAAAA,YAAYC,eAqB3D,OAbAC,EAAAA,EAAAA,YAAU,KACT,GAAIT,GAASA,EAAMU,QAAS,CAE3B,MAAMC,GAAiBC,EAAAA,EAAAA,iBAAgBZ,EAAMU,SACvCG,EAAeC,EAAAA,aAAaC,qBACjCJ,EAAeK,cACfL,EAAeM,WAEhBZ,EAAeE,EAAAA,YAAYW,kBAAkBL,GAC9C,IACE,CAACb,IAGCA,GASJmB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UACjCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qFAAoFC,SAAA,EAElGF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,8BAA6BC,SAAErB,EAAMuB,WAGnDD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uDAAsDC,SAAA,EACpEC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAqBC,SAChC5B,GACA6B,EAAAA,EAAAA,MAAAE,EAAAA,SAAA,CAAAH,SAAA,EACCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,IAAErB,EAAMyB,SAG/BH,EAAAA,EAAAA,MAAAE,EAAAA,SAAA,CAAAH,SAAA,EACCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,QAAY,IAAErB,EAAM0B,SAI/BJ,EAAAA,EAAAA,MAAA,KAAGF,UAAU,wBAAuBC,SAAA,CAClC5B,GACA6B,EAAAA,EAAAA,MAAAE,EAAAA,SAAA,CAAAH,SAAA,EACCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,QAAY,IAAErB,EAAM0B,OAG7BJ,EAAAA,EAAAA,MAAAE,EAAAA,SAAA,CAAAH,SAAA,EACCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,IAAErB,EAAMyB,SAGhCN,EAAAA,EAAAA,KAAA,QAAAE,SAAM,iBAGRF,EAAAA,EAAAA,KAAA,OAAAE,UAECF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAClC,IAAIM,KAAK3B,EAAM4B,WAAWC,eAAe,QAAS,CAClDC,QAAS,QACTC,KAAM,UACNC,MAAO,OACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,QAAQ,YAOZjB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UAC1BF,EAAAA,EAAAA,KAACkB,EAAAA,OAAM,CACNjC,YAAaA,EACbkC,eAAa,EACbC,UAAQ,EACRC,iBAAiB,eACjBC,gBAAgB,mBAKlBnB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,CACjC5B,IACA0B,EAAAA,EAAAA,KAAA,UAAQC,UAAU,8CAA6CC,SAAC,WAIjEF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,mCAAkCC,SAAC,aAGrDF,EAAAA,EAAAA,KAAA,UACCuB,QAASA,KAAMC,OAlGEC,EAkGW5C,EAAMG,QAhGnCZ,EAAkBqD,EADrBnD,EAC6B,QACA,WAHRmD,KAkGqB,EACtCxB,UAAU,sEAAqEC,UAE/EF,EAAAA,EAAAA,KAAC0B,EAAAA,IAAgB,cAjFdpD,GACN0B,EAAAA,EAAAA,KAAC2B,EAAAA,GAAQ,CAACpB,GAAG,iBAEbP,EAAAA,EAAAA,KAAC2B,EAAAA,GAAQ,CAACpB,GAAG,cAkFR,C","sources":["components/Mail/MailView.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport useMailbox from \"../../store/mailbox-context\";\r\n\r\nimport { EditorState, ContentState } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport { convertFromHTML } from \"draft-js\";\r\n\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport { Navigate, useLocation, useParams } from \"react-router-dom\";\r\nimport { RiDeleteBin2Fill } from \"react-icons/ri\";\r\n\r\nconst MailView = () => {\r\n\tconst { inbox, sentMails, mailDeleteHandler } = useMailbox();\r\n\t// console.log(inbox);\r\n\r\n\tconst location = useLocation();\r\n\tconst isInbox = location.pathname.includes(\"inbox\");\r\n\r\n\tconst { inboxmailID, sentmailID } = useParams(); // Extract mail ID from the URL\r\n\tconst email = isInbox\r\n\t\t? inbox.find((mail) => mail.id === inboxmailID)\r\n\t\t: sentMails.find((mail) => mail.id === sentmailID);\r\n\r\n\tconst [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n\r\n\tconst handleDelete = (mailID) => {\r\n\t\tisInbox\r\n\t\t\t? mailDeleteHandler(mailID, \"Inbox\")\r\n\t\t\t: mailDeleteHandler(mailID, \"SentBox\");\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (email && email.message) {\r\n\t\t\t// Convert the HTML message back to Draft.js content and set the editor state\r\n\t\t\tconst blocksFromHTML = convertFromHTML(email.message);\r\n\t\t\tconst contentState = ContentState.createFromBlockArray(\r\n\t\t\t\tblocksFromHTML.contentBlocks,\r\n\t\t\t\tblocksFromHTML.entityMap\r\n\t\t\t);\r\n\t\t\tsetEditorState(EditorState.createWithContent(contentState));\r\n\t\t}\r\n\t}, [email]);\r\n\r\n\t// Redirect to /home/inbox if no matching email is found\r\n\tif (!email) {\r\n\t\treturn isInbox ? (\r\n\t\t\t<Navigate to=\"/home/inbox\" />\r\n\t\t) : (\r\n\t\t\t<Navigate to=\"/home/sent\" />\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"h-full w-full p-5\">\r\n\t\t\t<div className=\"bg-white flex flex-col rounded-xl h-full overflow-y-auto shadow-lg p-8 min-w-full \">\r\n\t\t\t\t{/* Email Subject */}\r\n\t\t\t\t<h1 className=\"text-3xl font-semibold mb-4\">{email.subject}</h1>\r\n\r\n\t\t\t\t{/* Sender Information */}\r\n\t\t\t\t<div className=\"flex justify-between items-center border-b pb-4 mb-6\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-lg font-medium\">\r\n\t\t\t\t\t\t\t{isInbox ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<strong>From:</strong> {email.from}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<strong>To:</strong> {email.to}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-md text-gray-600\">\r\n\t\t\t\t\t\t\t{isInbox ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<strong>To:</strong> {email.to}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<strong>From:</strong> {email.from}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<span> (Me)</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{/* Date and Time */}\r\n\t\t\t\t\t\t<p className=\"text-md text-gray-500\">\r\n\t\t\t\t\t\t\t{new Date(email.timestamp).toLocaleString(\"en-US\", {\r\n\t\t\t\t\t\t\t\tweekday: \"short\",\r\n\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\thour: \"numeric\",\r\n\t\t\t\t\t\t\t\tminute: \"numeric\",\r\n\t\t\t\t\t\t\t\thour12: true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Render the email content using the Draft.js editor in read-only mode */}\r\n\t\t\t\t<div className=\"email-body\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\teditorState={editorState}\r\n\t\t\t\t\t\ttoolbarHidden\r\n\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\twrapperClassName=\"demo-wrapper\"\r\n\t\t\t\t\t\teditorClassName=\"demo-editor\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* actions buttons */}\r\n\t\t\t\t<div className=\"mt-auto flex gap-4\">\r\n\t\t\t\t\t{isInbox && (\r\n\t\t\t\t\t\t<button className=\"bg-blue-500 text-white px-4 py-2 rounded-lg\">\r\n\t\t\t\t\t\t\tReply\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<button className=\"bg-gray-300 px-4 py-2 rounded-lg\">\r\n\t\t\t\t\t\tForward\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => handleDelete(email.id)}\r\n\t\t\t\t\t\tclassName=\"bg-red-500 hover:bg-red-600 text-white ml-auto px-4 py-2 rounded-lg\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RiDeleteBin2Fill />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MailView;\r\n"],"names":["MailView","inbox","sentMails","mailDeleteHandler","useMailbox","isInbox","useLocation","pathname","includes","inboxmailID","sentmailID","useParams","email","find","mail","id","editorState","setEditorState","useState","EditorState","createEmpty","useEffect","message","blocksFromHTML","convertFromHTML","contentState","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","_jsx","className","children","_jsxs","subject","_Fragment","from","to","Date","timestamp","toLocaleString","weekday","year","month","day","hour","minute","hour12","Editor","toolbarHidden","readOnly","wrapperClassName","editorClassName","onClick","handleDelete","mailID","RiDeleteBin2Fill","Navigate"],"sourceRoot":""}