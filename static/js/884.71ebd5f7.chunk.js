"use strict";(self.webpackChunkmail_box_client=self.webpackChunkmail_box_client||[]).push([[884],{9884:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(5043),o=a(6213),l=a(9804),r=a(579);const n=e=>{let{label:s,id:a,type:o,value:n,onChange:i,autoFocus:c,isSignUp:d}=e;const u=(0,t.useRef)(),[p,m]=(0,t.useState)(!1);return(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("input",{id:a,name:a,type:o,value:n,onChange:i,ref:u,required:!0,placeholder:" ",autoFocus:c,autoComplete:"",className:"loginput peer block w-full appearance-none text-sm outline-none focus:border-blue-400 focus:outline-none focus:ring-0 focus-visible:outline-none "+(d?"rounded-md border-2 border-gray-300 bg-transparent px-3 pb-2 pt-2.5 font-medium text-gray-900 focus:bg-blue-50 focus:bg-opacity-30":"rounded-3xl border-none bg-black px-4 pb-3 pt-3 font-semibold text-[#f5f5f5] focus:bg-black focus:bg-opacity-100 focus-visible:bg-black")}),(0,r.jsx)("label",{htmlFor:a,className:"absolute origin-left transform bg-gray-100 text-gray-500 duration-300 peer-placeholder-shown:translate-y-1/2 peer-placeholder-shown:scale-110 peer-focus:scale-100 "+(d?"-top-1 left-3 -translate-y-3 peer-focus:-translate-y-3":"-top-0 left-4 -translate-y-5 bg-transparent text-sm font-semibold peer-focus:-translate-y-5"),children:s}),"password"===a&&!d&&(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),"password"===a&&(m((e=>!e)),"password"===u.current.type?u.current.type="text":u.current.type="password")},className:"absolute right-3 top-3 text-white",children:p?(0,r.jsx)(l.LAO,{}):(0,r.jsx)(l.AGM,{})}),(0,r.jsx)("span",{className:"absolute translate-x-full transform px-1 text-sm text-red-500 transition-all duration-300"})]})};var i=a(7444),c=a(3216);const d="AIzaSyB84u4X10RE3cGQMqs7sibXk-m2JvzkMXg",u=`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${d}`,p=`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${d}`,m=()=>{const[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[d,m]=(0,t.useState)(!1),[g,b]=(0,t.useState)(""),[x,f]=(0,t.useState)(!1),[h,y]=(0,t.useState)(!1),{handleLogIn:w}=(0,i.A)(),v=(0,c.Zp)();return(0,r.jsx)("div",{className:"image-container relative flex h-full w-full items-center justify-center bg-gray-100 max-xs:items-start max-xs:pt-12",children:(0,r.jsxs)("section",{className:"h-auto w-[21rem] p-4 max-xs:p-1",children:[(0,r.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),y(!0);const r={email:e,password:a,returnSecureToken:!0};if(b(""),d)try{if(a===document.getElementById("confirm_password").value){const e=await o.A.post(u,r);console.log(e.data),console.log("User has successfully signed up.");const a=e.data.idToken,t=e.data.email;w(a,t),console.log("successfully logged In"),s(""),l(""),v("/home",{replace:!0})}else b("* Password doesnt Match"),f(!0),setTimeout((()=>f(!1)),3e3)}catch(n){"INVALID_EMAIL"===n.response.data.error.message?b("* Enter a Valid Email"):"EMAIL_EXISTS"===n.response.data.error.message?b("* Email is Already Registered"):"WEAK_PASSWORD : Password should be at least 6 characters"===n.response.data.error.message&&b("* Password should be at least 6 characters"),f(!0),setTimeout((()=>f(!1)),3e3)}finally{y(!1)}else try{const e=await o.A.post(p,r);console.log(e.data);const a=e.data.idToken,t=e.data.email;w(a,t),v("/home",{replace:!0}),s(""),l("")}catch(n){console.log(n.response.data),"INVALID_LOGIN_CREDENTIALS"===n.response.data.error.message?b("* Check your Email or Password"):n.response.data.error.message&&b("* Too many attempts try Again Later"),f(!0),setTimeout((()=>f(!1)),3e3)}finally{y(!1)}},className:"border border-gray-400 px-4 py-6",children:[(0,r.jsx)("h1",{className:"mb-6 py-4 text-center text-2xl font-medium text-black",children:d?"Sign Up":"Login"}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(n,{label:"Email",id:"email",name:"email",type:"email",value:e,onChange:e=>s(e.target.value),autoFocus:!0,isSignUp:d}),(0,r.jsx)(n,{label:"Password",id:"password",name:"password",type:"password",value:a,onChange:e=>l(e.target.value),isSignUp:d}),d&&(0,r.jsx)(n,{label:"Confirm Password",id:"confirm_password",name:"confirm_password",type:"password",isSignUp:d})]}),(0,r.jsxs)("div",{className:"relative space-y-1 pt-2",children:[(0,r.jsx)("span",{className:"my-0.5 block h-4 transform px-2 text-sm font-medium text-red-600 transition-all duration-300 ease-in "+(x?"visible translate-y-0":"invisible -translate-y-2"),children:g}),!h&&(0,r.jsx)("button",{type:"submit",className:"w-full border-none bg-blue-500 py-2 text-white hover:bg-blue-600 focus:bg-blue-500 disabled:bg-opacity-70 "+(d?"rounded-3xl":"rounded-xl"),children:d?"Sign Up":"Login"}),h&&(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("img",{src:"https://i.gifer.com/7kRE.gif",alt:"loading",className:"size-10"})})]}),!d&&(0,r.jsx)("div",{className:"flex justify-center pt-4",children:(0,r.jsx)("button",{onClick:()=>{},className:"text-blue-700 underline decoration-blue-700",children:"Forgot Password?"})})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("button",{onClick:()=>{m((e=>!e)),s(""),l("")},type:"button",className:"mt-4 w-full border border-emerald-800 bg-emerald-300 bg-opacity-50 px-4 py-2 text-emerald-900 hover:bg-opacity-75",children:d?"Have an Account? Login":"Don't have an Account? Sign up"})})]})})},g=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m,{})})}}]);
//# sourceMappingURL=884.71ebd5f7.chunk.js.map